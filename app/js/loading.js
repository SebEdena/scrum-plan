"use strict";const{ipcRenderer:ipcRenderer}=require("electron"),remote=require("electron").remote,{dialog:dialog}=remote.require("electron");$(document).ready(e=>{e("#spinner > img").hide(),e("#spinner").css("visibility","visible"),ipcRenderer.on("error",(n,r)=>{e("#spinner > div").hide(),e("#spinner > img").toggle(),e("#connection_status").text("Connection failed."),"connection"===r.type&&dialog.showMessageBox(remote.getCurrentWindow(),{title:"Error",type:"error",noLink:!0,defaultId:1,message:"The server is unavailable.\nPlease ensure you have a working Internet connection and retry, or quit.",detail:"Error: "+r.err.code,buttons:["Exit","Retry"]},n=>{switch(n){case 0:ipcRenderer.send("action","quit");break;case 1:ipcRenderer.send("action","reconnect"),e("#spinner > div").toggle(),e("#spinner > img").hide(),e("#connection_status").text("Connecting, please wait...")}})})});